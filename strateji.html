<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stratejik Matematik Macerası</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    
    <button id="strategy-btn" onclick="openModal()">⭐ Stratejiyi Öğren</button>

    <div class="game-container">
        <h1>⭐ Stratejik Matematik Macerası</h1>
        <p class="subtitle">10'lu Bloklar ile Hızlı Toplama ve Çıkarma!</p>

        <div class="score-panel">
            <div class="score-card">
                <div class="score-label">⭐ Doğru Sayısı</div>
                <div class="score-value" id="correct-count">0</div>
            </div>
            <div class="score-card">
                <div class="score-label">🎯 Tamamlanan</div>
                <div class="score-value" id="completed-count">0</div>
            </div>
            <div class="score-card">
                <div class="score-label">🔥 Seri</div>
                <div class="score-value" id="streak-count">0</div>
            </div>
        </div>

        <div class="operation-area">
            <div class="operation-label">💡 Görevdeki İşlem:</div>
            <div class="operation-display" id="operation-display">--</div>
        </div>

        <div class="main-feedback" id="main-feedback">
            🚀 Hadi başlayalım! İlk adımı tamamla!
        </div>

        <div class="steps-container" id="steps-container">
            <div class="step-card active" id="step-1">
                <div class="step-header">
                    <div class="step-number">1</div>
                    <div class="step-title">En Yakın 10'a Zıpla!</div>
                </div>
                <div class="step-description" id="step-1-desc">
                    İlk sayıyı en yakın 10'a tamamlamak için kaç eklemelisin/çıkarmalısın?
                </div>
                <div class="input-group">
                    <input type="number" class="math-input" id="input-1" placeholder="?">
                    <button class="check-btn" onclick="checkStep(1)">✓ Kontrol Et</button>
                    <span class="feedback-inline" id="feedback-1"></span>
                </div>
                <div class="hint-box" id="hint-1"></div>
            </div>

            <div class="step-card disabled" id="step-2">
                <div class="step-header">
                    <div class="step-number">2</div>
                    <div class="step-title">Kalan Sayıyı Bul!</div>
                </div>
                <div class="step-description" id="step-2-desc">
                    İlk adımdan sonra, kaç daha eklemelisin/çıkaracağın sayıdan geriye ne kadar kaldı?
                </div>
                <div class="input-group">
                    <input type="number" class="math-input" id="input-2" placeholder="?">
                    <button class="check-btn" onclick="checkStep(2)">✓ Kontrol Et</button>
                    <span class="feedback-inline" id="feedback-2"></span>
                </div>
                <div class="hint-box" id="hint-2"></div>
            </div>

            <div class="step-card disabled" id="step-3">
                <div class="step-header">
                    <div class="step-number">3</div>
                    <div class="step-title">Son Adım - Sonucu Bul!</div>
                </div>
                <div class="step-description" id="step-3-desc">
                    Yeni onluktan kalanı ekleyerek/çıkararak sonucu bul!
                </div>
                <div class="input-group">
                    <input type="number" class="math-input" id="input-3" placeholder="?">
                    <button class="check-btn" onclick="checkStep(3)">✓ Kontrol Et</button>
                    <span class="feedback-inline" id="feedback-3"></span>
                </div>
                <div class="hint-box" id="hint-3"></div>
            </div>
        </div>

        <div class="controls">
            <button class="control-btn hint" onclick="showHint()">💡 İpucu Göster</button>
            <button class="control-btn next" id="next-btn" onclick="loadNewOperation()" style="display: none;">
                🎉 Yeni İşlem
            </button>
        </div>
    </div>
    
    <div id="strategyModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <h2>⭐ Zihinsel Matematik Stratejisi: 10'a Tamamlama</h2>
            <p>Bu oyundaki amacımız, parmak saymayı bırakıp işlemleri <span class="visual-cue">zihninde 10'lu Bloklarla</span> yaparak hızlanmaktır. Her zaman en yakın <span class="visual-cue">10'un Katına (10, 20, 30...)</span> zıplamayı hedefle!</p>
            
            <h3>➕ Toplama Stratejisi (Örnek: 27 + 6)</h3>
            <p>Başlangıç sayısını (<span class="visual-cue">27</span>), iki tam <span class="visual-cue">10'lu Blok</span> ve yedi tekli küp olarak görselleştir.</p>
            <ul>
                <li>**Adım 1 (Zıplama):** $27$'den en yakın 10'a (30) zıplamak için kaç küp gerekir? Cevap: $3$ ( $30 - 27$ ).</li>
                <li>**Adım 2 (Parçalama):** $6$ sayısını $3$ ve $3$ olarak ikiye ayır. $3$ küpü $27$'ye ekleyerek $30$ yap.</li>
                <li>**Adım 3 (Sonuç):** Elinde $3$ tane tam $10$'lu Blok ve $3$ tane kalan küp var. Cevap: <span class="visual-cue">$33$</span>.</li>
            </ul>
            
            <h3>➖ Çıkarma Stratejisi (Örnek: 42 - 7)</h3>
            <p>Başlangıç sayısını (<span class="visual-cue">42</span>), dört tam <span class="visual-cue">10'lu Blok</span> ve iki tekli küp olarak görselleştir.</p>
            <ul>
                <li>**Adım 1 (Geri Zıplama):** $42$'den en yakın onluğa (40) geri zıplamak için kaç küp çıkarılır? Cevap: $2$ ( $42 - 40$ ).</li>
                <li>**Adım 2 (Parçalama):** $7$ sayısını $2$ ve $5$ olarak ikiye ayır. Önce $2$ küpü çıkararak $40$'a in.</li>
                <li>**Adım 3 (Sonuç):** $40$'tan kalan $5$'i ($7 - 2$) çıkar. $40$'tan $5$ çıkarmak, bir $10$'lu bloğu açıp $5$ küp çıkarmaktır. Elinde $3$ tam $10$'lu Blok ve $5$ küp kalır. Cevap: <span class="visual-cue">$35$</span>.</li>
            </ul>
            <p>Şimdi oyuna dön ve bu zihinsel adımları kullanmaya başla!</p>
        </div>
    </div>


    <script src="assets/js/game.js"></script>
</body>
</html>